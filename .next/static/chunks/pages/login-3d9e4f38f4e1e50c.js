(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{7864:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(2601)}])},2601:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var n=s(4848),o=s(6540);let t=e=>{let{onLogin:r}=e,[s,t]=(0,o.useState)(null),[a,l]=(0,o.useState)(""),[i,u]=(0,o.useState)(""),c=async e=>{e.preventDefault();let s=e.currentTarget;try{let e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})});if(!e.ok){let r=await e.json();throw Error(r.err||"An error occurred during login.")}let s=await e.json();console.log("User Info: ",s),t(s),r()}catch(e){e instanceof Error&&alert("Error: ".concat(e.message)),console.error("An error occurred when logging in a user: ",e)}s.reset()};return(0,n.jsxs)("div",{className:"pages",children:[(0,n.jsx)("h3",{children:"User Login Page"}),(0,n.jsx)("br",{}),(0,n.jsxs)("form",{onSubmit:c,children:[(0,n.jsxs)("label",{htmlFor:"username-login",children:["Username:",(0,n.jsx)("input",{name:"username-login",type:"text",id:"username-login",value:a,onChange:e=>l(e.target.value)})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{htmlFor:"password-login",children:["Password:",(0,n.jsx)("input",{name:"password-login",type:"password",id:"password-login",value:i,onChange:e=>u(e.target.value)})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"submit-buttons",type:"submit",children:"Login User"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("br",{}),s&&s.user&&(0,n.jsxs)("h2",{children:["Welcome Back, ",s.user.username,"!"]})]})]})},a=()=>(0,n.jsx)(t,{onLogin:()=>console.log("User logged in")})}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(7864)),_N_E=e.O()}]);