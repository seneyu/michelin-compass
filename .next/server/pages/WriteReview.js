(()=>{var e={};e.id=197,e.ids=[197,220,636],e.modules={671:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},806:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>p,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>g,reportWebVitals:()=>v,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var s={};r.r(s),r.d(s,{default:()=>d});var n=r(3865),i=r(9455),a=r(671),l=r(5583),o=r(6868),c=r(8732);r(2015);var u=r(6271);let d=({restaurants:e})=>(0,c.jsxs)("div",{className:"pages",children:[(0,c.jsx)("h3",{children:"Write a Review"}),(0,c.jsx)("br",{}),(0,c.jsx)(u.A,{restaurants:e,onSubmit:e=>{console.log("New Review Submitted: ",e)}})]}),h=(0,a.M)(s,"default"),g=(0,a.M)(s,"getStaticProps"),m=(0,a.M)(s,"getStaticPaths"),x=(0,a.M)(s,"getServerSideProps"),p=(0,a.M)(s,"config"),v=(0,a.M)(s,"reportWebVitals"),j=(0,a.M)(s,"unstable_getStaticProps"),b=(0,a.M)(s,"unstable_getStaticPaths"),f=(0,a.M)(s,"unstable_getStaticParams"),P=(0,a.M)(s,"unstable_getServerProps"),S=(0,a.M)(s,"unstable_getServerSideProps"),w=new n.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/WriteReview",pathname:"/WriteReview",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:s})},6271:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(8732),n=r(2015);let i=({restaurants:e,review:t,onSubmit:r})=>{let[i,a]=(0,n.useState)(e[0].name),[l,o]=(0,n.useState)(1),[c,u]=(0,n.useState)("");return(0,n.useEffect)(()=>{t&&(a(t.restaurant?.toString()||""),o(t.rating?.valueOf()||1),u(t.comment?.toString()||""))},[t]),(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();try{r({restaurant:i,rating:l,comment:c}),a(""),o(1),u("")}catch(e){e instanceof Error&&alert(`Error: ${e.message}`),console.error("An error occurred when posting review: ",e)}},children:[(0,s.jsx)("label",{htmlFor:"review-restaurant",children:"Review a Restaurant: "}),(0,s.jsx)("select",{id:"review-restaurant",name:"review-restaurant",value:i,onChange:e=>a(e.target.value),children:e&&e.length>0?e.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e._id.toString())):(0,s.jsx)("option",{value:"",disabled:!0,children:"No restaurants available"})}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{htmlFor:"review-rating",children:"Select your rating: "}),(0,s.jsxs)("select",{id:"review-rating",name:"review-rating",value:l,onChange:e=>o(Number(e.target.value)),children:[(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"3",children:"3"}),(0,s.jsx)("option",{value:"4",children:"4"}),(0,s.jsx)("option",{value:"5",children:"5"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{htmlFor:"review-comment",children:"Leave a Comment: "}),(0,s.jsx)("textarea",{id:"review-comment",name:"review-comment",value:c,onChange:e=>u(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"submit-buttons",type:"submit",children:"Post Review"})]})})}},6868:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(8732),n=r(2015),i=r(1106),a=r.n(i);let l=({isAuthenticated:e,onLogout:t})=>(0,s.jsxs)("div",{className:"nav-bar",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(a(),{href:"/",style:{textDecoration:"none"},children:[(0,s.jsx)("img",{src:"https://cdn1.iconfinder.com/data/icons/landmark-79/64/mont_saint_michel-island-landmark-france-town-normandy-travel-128.png",id:"logo"})," ",(0,s.jsx)("span",{id:"logo-title",children:"Michelin Compass"})]})}),(0,s.jsx)("div",{className:"auth",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{href:"/entries",children:(0,s.jsx)("button",{className:"other-buttons",children:"Reviews"})}),(0,s.jsx)("button",{id:"logout-button",onClick:t,children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{href:"/entries",children:(0,s.jsx)("button",{className:"other-buttons",children:"Reviews"})}),(0,s.jsx)(a(),{href:"/login",children:(0,s.jsx)("button",{className:"other-buttons",children:"Login"})}),(0,s.jsx)(a(),{href:"/signup",children:(0,s.jsx)("button",{id:"signup-button",children:"Signup"})})]})})]});r(3651);let o=({Component:e,pageProps:t})=>{let[r,i]=(0,n.useState)(!1),a=async()=>{try{(await fetch("/api/logout",{method:"POST",credentials:"include"})).ok&&i(!1)}catch(e){console.error("An error occurred when logging out user: ",e)}};return(0,s.jsxs)("div",{className:"main",children:[(0,s.jsx)(l,{isAuthenticated:r,onLogout:a}),(0,s.jsx)(e,{...t,onLogin:()=>{i(!0)}})]})}},5583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8732),n=r(883);let i=()=>(0,s.jsxs)(n.Html,{children:[(0,s.jsxs)(n.Head,{children:[(0,s.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Petrona:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Playwrite+SK:wght@100..400&display=swap"})]}),(0,s.jsxs)("body",{children:[(0,s.jsx)(n.Main,{}),(0,s.jsx)(n.NextScript,{})]})]})},3651:()=>{},9455:(e,t)=>{"use strict";var r;Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(r||(r={}))},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},3873:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[916,883,106],()=>r(806));module.exports=s})();