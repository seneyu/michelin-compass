(()=>{var e={};e.id=295,e.ids=[220,295,636],e.modules={671:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},9482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>j,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>b});var r={};s.r(r),s.d(r,{default:()=>g});var n=s(3865),i=s(9455),a=s(671),o=s(5583),l=s(6868),c=s(8732),u=s(2015);let d=({onLogin:e})=>{let[t,s]=(0,u.useState)(null),[r,n]=(0,u.useState)(""),[i,a]=(0,u.useState)(""),o=async t=>{t.preventDefault();let n=t.currentTarget;try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:i})});if(!t.ok){let e=await t.json();throw Error(e.err||"An error occurred during login.")}let n=await t.json();console.log("User Info: ",n),s(n),e()}catch(e){e instanceof Error&&alert(`Error: ${e.message}`),console.error("An error occurred when logging in a user: ",e)}n.reset()};return(0,c.jsxs)("div",{className:"pages",children:[(0,c.jsx)("h3",{children:"User Login Page"}),(0,c.jsx)("br",{}),(0,c.jsxs)("form",{onSubmit:o,children:[(0,c.jsxs)("label",{htmlFor:"username-login",children:["Username:",(0,c.jsx)("input",{name:"username-login",type:"text",id:"username-login",value:r,onChange:e=>n(e.target.value)})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsxs)("label",{htmlFor:"password-login",children:["Password:",(0,c.jsx)("input",{name:"password-login",type:"password",id:"password-login",value:i,onChange:e=>a(e.target.value)})]}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("button",{className:"submit-buttons",type:"submit",children:"Login User"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("br",{}),t&&t.user&&(0,c.jsxs)("h2",{children:["Welcome Back, ",t.user.username,"!"]})]})]})},g=()=>(0,c.jsx)(d,{onLogin:()=>console.log("User logged in")}),h=(0,a.M)(r,"default"),p=(0,a.M)(r,"getStaticProps"),m=(0,a.M)(r,"getStaticPaths"),x=(0,a.M)(r,"getServerSideProps"),j=(0,a.M)(r,"config"),f=(0,a.M)(r,"reportWebVitals"),b=(0,a.M)(r,"unstable_getStaticProps"),P=(0,a.M)(r,"unstable_getStaticPaths"),S=(0,a.M)(r,"unstable_getStaticParams"),v=(0,a.M)(r,"unstable_getServerProps"),y=(0,a.M)(r,"unstable_getServerSideProps"),w=new n.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:r})},6868:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(8732),n=s(2015),i=s(1106),a=s.n(i);let o=({isAuthenticated:e,onLogout:t})=>(0,r.jsxs)("div",{className:"nav-bar",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(a(),{href:"/",style:{textDecoration:"none"},children:[(0,r.jsx)("img",{src:"https://cdn1.iconfinder.com/data/icons/landmark-79/64/mont_saint_michel-island-landmark-france-town-normandy-travel-128.png",id:"logo"})," ",(0,r.jsx)("span",{id:"logo-title",children:"Michelin Compass"})]})}),(0,r.jsx)("div",{className:"auth",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{href:"/entries",children:(0,r.jsx)("button",{className:"other-buttons",children:"Reviews"})}),(0,r.jsx)("button",{id:"logout-button",onClick:t,children:"Logout"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{href:"/entries",children:(0,r.jsx)("button",{className:"other-buttons",children:"Reviews"})}),(0,r.jsx)(a(),{href:"/login",children:(0,r.jsx)("button",{className:"other-buttons",children:"Login"})}),(0,r.jsx)(a(),{href:"/signup",children:(0,r.jsx)("button",{id:"signup-button",children:"Signup"})})]})})]});s(3651);let l=({Component:e,pageProps:t})=>{let[s,i]=(0,n.useState)(!1),a=async()=>{try{(await fetch("/api/logout",{method:"POST",credentials:"include"})).ok&&i(!1)}catch(e){console.error("An error occurred when logging out user: ",e)}};return(0,r.jsxs)("div",{className:"main",children:[(0,r.jsx)(o,{isAuthenticated:s,onLogout:a}),(0,r.jsx)(e,{...t,onLogin:()=>{i(!0)}})]})}},5583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(8732),n=s(883);let i=()=>(0,r.jsxs)(n.Html,{children:[(0,r.jsxs)(n.Head,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Petrona:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Playwrite+SK:wght@100..400&display=swap"})]}),(0,r.jsxs)("body",{children:[(0,r.jsx)(n.Main,{}),(0,r.jsx)(n.NextScript,{})]})]})},3651:()=>{},9455:(e,t)=>{"use strict";var s;Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(s||(s={}))},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},3873:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[916,883,106],()=>s(9482));module.exports=r})();